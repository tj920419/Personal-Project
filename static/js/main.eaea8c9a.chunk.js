(this["webpackJsonppersonal-project"]=this["webpackJsonppersonal-project"]||[]).push([[0],{14:function(e,t,i){"use strict";i.r(t),t.default=i.p+"static/media/Logo.384869ab.png"},29:function(e,t,i){},31:function(e,t,i){},37:function(e,t,i){var a={"./Logo.png":14,"./The Economist.png":38,"./The Economist_original.png":39,"./The New York Times.png":40};function s(e){var t=n(e);return i(t)}function n(e){if(!i.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}s.keys=function(){return Object.keys(a)},s.resolve=n,e.exports=s,s.id=37},38:function(e,t,i){"use strict";i.r(t),t.default=i.p+"static/media/The Economist.330163aa.png"},39:function(e,t,i){"use strict";i.r(t),t.default=i.p+"static/media/The Economist_original.ab6ecc51.png"},40:function(e,t,i){"use strict";i.r(t),t.default=i.p+"static/media/The New York Times.afb191f3.png"},46:function(e,t,i){"use strict";i.r(t);var a=i(1),s=i.n(a),n=i(8),c=i.n(n),r=(i(29),i(22)),o=i(11),h=i(19),d=i(20),l=i(5),u=i(24),j=i(23),m=i(2),p=(i(31),i(16)),b=(i(32),i(34),p.a.initializeApp({apiKey:"AIzaSyBwWOLt0ioY91SqVnr1mPh1meUBBanjIYk",authDomain:"newsplatform-9a5f4.firebaseapp.com",databaseURL:"https://newsplatform-9a5f4.firebaseio.com",projectId:"newsplatform-9a5f4",storageBucket:"newsplatform-9a5f4.appspot.com",messagingSenderId:"895486789179",appId:"1:895486789179:web:40d7c5d3cbc840848c7e1e",measurementId:"G-MB158LDM29"})),C=(b.auth(),b.firestore()),O=(p.a.firestore.FieldValue.serverTimestamp(),i(14)),g=i(10),v={},S=function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(e){var i;return Object(h.a)(this,a),(i=t.call(this,e)).changeSet=i.changeSet.bind(Object(l.a)(i)),i.inputSearchKeyword=i.inputSearchKeyword.bind(Object(l.a)(i)),i.changeSearchOption=i.changeSearchOption.bind(Object(l.a)(i)),i.clickAddNewSearchButton=i.clickAddNewSearchButton.bind(Object(l.a)(i)),i.clickSearchSubmitButton=i.clickSearchSubmitButton.bind(Object(l.a)(i)),i.runConditionFiltering=i.runConditionFiltering.bind(Object(l.a)(i)),i.checkConditionFiltering=i.checkConditionFiltering.bind(Object(l.a)(i)),i.withOrWithoutYou=i.withOrWithoutYou.bind(Object(l.a)(i)),i.editSearchCondition=i.editSearchCondition.bind(Object(l.a)(i)),i.deleteSearchCondition=i.deleteSearchCondition.bind(Object(l.a)(i)),i.inputNewSearchKeyword=i.inputNewSearchKeyword.bind(Object(l.a)(i)),i.changeNewSearchOption=i.changeNewSearchOption.bind(Object(l.a)(i)),i.editSearchCondition=i.editSearchCondition.bind(Object(l.a)(i)),i.deleteSearchCondition=i.deleteSearchCondition.bind(Object(l.a)(i)),i.saveSearchCondition=i.saveSearchCondition.bind(Object(l.a)(i)),i.cancelEditingCondition=i.cancelEditingCondition.bind(Object(l.a)(i)),i.checkMediaBrand=i.checkMediaBrand.bind(Object(l.a)(i)),i.state={setStatus:!0,mediaBrand:[{brandName:"The New York Times",checked:!0},{brandName:"The Economist",checked:!0},{brandName:"Financial Times",checked:!1}],searchConditions:[{withOrWithout:!0,searchValue:"Trump",searchType:"Headline",editing:!1,searchValueEditing:"Trump",searchTypeEditing:"Headline",resultAmount:0}],newSearchType:"Headline",newSearchValue:"",newSearchPlaceHolder:"Please Input Your Keyword!",articlesAcquired:[],searchResults:[]},i}return Object(d.a)(a,[{key:"changeSet",value:function(){var e=!this.state.setStatus;this.setState({setStatus:e})}},{key:"inputSearchKeyword",value:function(e){this.setState({newSearchValue:e.target.value})}},{key:"changeSearchOption",value:function(e){"Start Date"===e.target.value||"End Date"===e.target.value?this.setState({newSearchType:e.target.value,newSearchPlaceHolder:"Please enter eg:20201231"}):this.setState({newSearchType:e.target.value})}},{key:"clickAddNewSearchButton",value:function(){if(""===this.state.newSearchValue)alert("Not yet input anything!");else{var e={withOrWithout:!0,searchValue:this.state.newSearchValue,searchType:this.state.newSearchType,editing:!1,searchValueEditing:this.state.newSearchValue,searchTypeEditing:this.state.newSearchType,resultAmount:0};this.state.searchConditions.push(e),this.setState({searchConditions:this.state.searchConditions,newSearchValue:""})}}},{key:"clickSearchSubmitButton",value:function(){var e,t=this;if(0===this.state.searchConditions.length)alert("Please input at least one search condition!");else{for(var i=[],a=[],s=[],n=0;n<this.state.mediaBrand.length;n+=1)!0===this.state.mediaBrand[n].checked&&i.push((e=this.state.mediaBrand[n].brandName,C.collection(e).get()));Promise.all(i).then((function(e){e.forEach((function(e){e.forEach((function(e){a.push(e.data()),s.push(e.data())}))})),t.setState({articlesAcquired:s}),t.runConditionFiltering(a)}))}}},{key:"runConditionFiltering",value:function(e){console.log(e),console.log(this.state);var t=[];if(!0===this.state.setStatus)for(var i=0;i<this.state.searchConditions.length;i+=1){var a=this.state.searchConditions[i].searchType;if("Start Date"!==a&&"End Date"!==a){if(!0===this.state.searchConditions[i].withOrWithout)for(var s=0;s<e.length;s+=1)e[s][a]&&!1!==e[s][a].includes(this.state.searchConditions[i].searchValue)||(e.splice(s,1),s-=1);else if(!1===this.state.searchConditions[i].withOrWithout)for(var n=0;n<e.length;n+=1)e[n][a]&&!0===e[n][a].includes(this.state.searchConditions[i].searchValue)&&(e.splice(n,1),n-=1)}else for(var c=0;c<e.length;c+=1){var r=parseInt(e[c][a]),o=parseInt(this.state.searchConditions[i].searchValue);"Start Date"===a?(!e[c]["Start Date"]||r<o)&&(e.splice(c,1),c-=1):"End Date"===a&&(!e[c]["End Date"]||r>o)&&(e.splice(c,1),c-=1)}t=e;var h=this.state.searchConditions;h[i].resultAmount=e.length,this.setState({searchConditions:h})}else if(!1===this.state.setStatus)for(var d=0;d<this.state.searchConditions.length;d+=1){var l=this.state.searchConditions[d].searchType;if("Start Date"!==l&&"End Date"!==l){if(!0===this.state.searchConditions[d].withOrWithout)for(var u=0;u<e.length;u+=1)e[u][l]&&!0===e[u][l].includes(this.state.searchConditions[d].searchValue)&&(t.push(e[u]),e.splice(u,1),u-=1);else if(!1===this.state.searchConditions[d].withOrWithout)for(var j=0;j<e.length;j+=1)e[j][l]&&!1!==e[j][l].includes(this.state.searchConditions[d].searchValue)||(t.push(e[j]),e.splice(j,1),j-=1)}else for(var m=0;m<e.length;m+=1){var p=parseInt(e[m][l]),b=parseInt(this.state.searchConditions[d].searchValue);"Start Date"===l?e[m]["Start Date"]&&p>=b&&(t.push(e[m]),e.splice(m,1),m-=1):"End Date"===l&&e[m]["End Date"]&&p<=b&&(t.push(e[m]),e.splice(m,1),m-=1)}var C=this.state.searchConditions;C[d].resultAmount=t.length,this.setState({searchConditions:C})}this.setState({searchResults:t})}},{key:"checkConditionFiltering",value:function(){var e=JSON.parse(JSON.stringify(this.state.articlesAcquired));console.log(e),this.runConditionFiltering(e)}},{key:"withOrWithoutYou",value:function(e){var t=parseInt(e.currentTarget.id.slice(22)),i=this.state.searchConditions;i[t].withOrWithout=!i[t].withOrWithout,this.setState({searchConditions:i})}},{key:"editSearchCondition",value:function(e){var t=parseInt(e.target.id.slice(19)),i=this.state.searchConditions;i[t].editing=!0,this.setState({searchConditions:i})}},{key:"deleteSearchCondition",value:function(e){var t=parseInt(e.target.id.slice(21));this.state.searchConditions.splice(t,1),this.setState({searchConditions:this.state.searchConditions})}},{key:"inputNewSearchKeyword",value:function(e){var t=parseInt(e.target.id.slice(21)),i=this.state.searchConditions;i[t].searchValueEditing=e.target.value,this.setState({searchConditions:i})}},{key:"changeNewSearchOption",value:function(e){var t=parseInt(e.target.id.slice(21)),i=this.state.searchConditions;i[t].searchTypeEditing=e.target.value,this.setState({searchConditions:i})}},{key:"saveSearchCondition",value:function(e){var t=parseInt(e.target.id.slice(19)),i=this.state.searchConditions;i[t].searchValue=this.state.searchConditions[t].searchValueEditing,i[t].searchType=this.state.searchConditions[t].searchTypeEditing,i[t].editing=!1,this.setState({searchConditions:i})}},{key:"cancelEditingCondition",value:function(e){var t=parseInt(e.target.id.slice(28)),i=this.state.searchConditions;i[t].editing=!1,this.setState({searchConditions:i})}},{key:"checkMediaBrand",value:function(e){console.log(e.target.id);for(var t=this.state.mediaBrand,i=0;i<t.length;i+=1)t[i].brandName===e.target.id&&(!0===t[i].checked?t[i].checked=!1:!1===t[i].checked&&(t[i].checked=!0));this.setState({mediaBrand:t}),console.log(t)}},{key:"render",value:function(){var e=this;console.log(this.state);var t=[],a=[],s=[],n=[],c=[],h=[],d="http://localhost:3000/Personal-Project";if(this.state.searchResults.length>0&&(console.log("Search Activated!"),v={searchAll:"searchAllAfter",matchTitle:"matchTitleAfter",searchConditionLeftColumn:"searchConditionLeftColumnAfter",searchConditionRightColumn:"searchConditionRightColumnAfter",mediaBrandComponentClass:"mediaBrandComponentAfter"}),this.state.searchConditions.length>0){var l="",u="";!0===this.state.setStatus?(l="andElement",u=""):!1===this.state.setStatus&&(l="",u="orElement");var j=Object(m.jsxs)("div",{className:"setComponent",style:{display:"flex"},children:[Object(m.jsx)("div",{style:{flex:4.9}}),Object(m.jsx)("div",{className:"setElement "+l,onClick:this.changeSet,style:{flex:1},children:"And"}),Object(m.jsx)("div",{className:"setElement "+u,onClick:this.changeSet,style:{flex:1},children:"Or"}),Object(m.jsx)("div",{style:{flex:3.1}}),Object(m.jsxs)("div",{className:"matchTitle "+v.matchTitle,style:{flex:3},children:["Amount of Matches ",Object(m.jsx)("br",{}),"(accumulative)"]})]},"setComponent0");t.push(j)}for(var p=0;p<this.state.mediaBrand.length;p+=1){var b=Object(m.jsxs)("div",{className:"mediaBrandComponent "+v.mediaBrandComponentClass,children:[Object(m.jsx)("input",{className:"mediaBrandCheckBox",id:this.state.mediaBrand[p].brandName,type:"checkbox",onChange:this.checkMediaBrand,checked:this.state.mediaBrand[p].checked}),Object(m.jsx)("label",{htmlFor:this.state.mediaBrand[p].brandName,children:this.state.mediaBrand[p].brandName})]},"mediaBrandComponent"+p);a.push(b)}for(var C=0;C<this.state.searchResults.length;C+=1){var S=Object(m.jsx)("div",{className:"searchResultComponent",id:"searchResultComponent"+C,children:Object(m.jsxs)("a",{href:this.state.searchResults[C].URL,target:"_blank",rel:"noreferrer",children:[Object(m.jsx)("img",{className:"searchResultImg",src:i(37)("./"+this.state.searchResults[C].Source+".png").default,alt:""}),Object(m.jsxs)("div",{className:"searchResultFirstLine",children:[Object(m.jsx)("div",{className:"searchResultSubheadline",children:this.state.searchResults[C].Subheadline}),Object(m.jsxs)("div",{className:"searchResultDate",children:["Date: ",this.state.searchResults[C]["Start Date"]]})]}),Object(m.jsxs)("div",{className:"searchResultSecondLine",children:[Object(m.jsx)("div",{className:"searchResultHeadline",children:this.state.searchResults[C].Headline}),Object(m.jsxs)("div",{className:"searchResultAuthor",children:["Author: ",this.state.searchResults[C].Author]})]}),Object(m.jsx)("div",{className:"searchResultThirdLine",children:Object(m.jsx)("div",{className:"searchResultParagraph",children:this.state.searchResults[C]["Lead Paragraph"]})})]})},"searchResultComponent"+C);s.push(S)}if(0===this.state.searchConditions.length)n=Object(m.jsx)("div",{className:"noSearchConditions",children:"No Search Conditions Inputted Yet!"});else if(this.state.searchConditions.length)for(var f=function(t){if(c=[],h=[],"Start Date"!==e.state.searchConditions[t].searchType&&"End Date"!==e.state.searchConditions[t].searchType){var i="",a="";!0===e.state.searchConditions[t].withOrWithout?(i="withElement",a=""):!1===e.state.searchConditions[t].withOrWithout&&(i="",a="withoutElement");var s=Object(m.jsxs)("div",{className:"withOrWithoutComponent",id:"withOrWithoutComponent"+t,onClick:e.withOrWithoutYou,children:[Object(m.jsx)("div",{className:"withOrWithoutElement "+i,children:"With"}),Object(m.jsx)("div",{className:"withOrWithoutElement "+a,children:"Without"})]},"withOrWithoutComponent"+t);c.push(s)}var r=Object(m.jsx)("div",{className:"searchResultAmountComponent",id:"searchResultAmountComponent"+t,children:e.state.searchConditions[t].resultAmount},"searchResultAmountComponent"+t);if(h.push(r),!1===e.state.searchConditions[t].editing){var d=Object(m.jsx)(g.b,{draggableId:"draggableId"+t,index:t,children:function(i){return Object(m.jsxs)("div",Object(o.a)(Object(o.a)(Object(o.a)({className:"searchConditionComponent",ref:i.innerRef},i.draggableProps),i.dragHandleProps),{},{children:[Object(m.jsx)("div",{className:"searchConditionLeftColumn "+v.searchConditionLeftColumn,children:c}),Object(m.jsxs)("div",{className:"searchConditionMidColumn",children:[Object(m.jsxs)("div",{className:"searchConditionGroupFirstLine",children:[Object(m.jsx)("div",{className:"search-left-top searchConditionValue",children:e.state.searchConditions[t].searchValue}),Object(m.jsx)("div",{className:"search-right-top searchConditionType",children:e.state.searchConditions[t].searchType})]}),Object(m.jsxs)("div",{className:"searchConditionGroupSecondLine",children:[Object(m.jsx)("button",{className:"search-left-bottom searchConditionEdit",id:"searchConditionEdit"+t,onClick:e.editSearchCondition,children:"Edit"}),Object(m.jsx)("button",{className:"search-right-bottom searchConditionDelete",id:"searchConditionDelete"+t,onClick:e.deleteSearchCondition,children:"Delete"})]})]}),Object(m.jsx)("div",{className:"searchConditionRightColumn "+v.searchConditionRightColumn,children:h})]}),"searchConditionComponent"+t)}},"draggableKey"+t);n.push(d)}else if(!0===e.state.searchConditions[t].editing){console.log(e.state.searchConditions[t]);var l=Object(m.jsxs)("div",{className:"searchConditionComponent",children:[Object(m.jsx)("div",{className:"searchConditionLeftColumn "+v.searchConditionLeftColumn,children:c}),Object(m.jsxs)("div",{className:"searchConditionMidColumn",children:[Object(m.jsxs)("div",{className:"searchConditionGroupFirstLine",children:[Object(m.jsx)("input",{className:"search-left-top searchInput",id:"inputNewSearchKeyword"+t,onChange:e.inputNewSearchKeyword,value:e.state.searchConditions[t].searchValueEditing}),Object(m.jsxs)("select",{className:"search-right-top searchSelect",id:"changeNewSearchOption"+t,onChange:e.changeNewSearchOption,value:e.state.searchConditions[t].searchTypeEditing,children:[Object(m.jsx)("option",{children:"Headline"}),Object(m.jsx)("option",{children:"Subheadline"}),Object(m.jsx)("option",{children:"Author"}),Object(m.jsx)("option",{children:"Context"}),Object(m.jsx)("option",{children:"Start Date"}),Object(m.jsx)("option",{children:"End Date"})]})]}),Object(m.jsxs)("div",{className:"searchConditionGroupSecondLine",children:[Object(m.jsx)("button",{className:"search-left-bottom searchConditionSave",id:"searchConditionSave"+t,onClick:function(t){e.saveSearchCondition(t),e.checkConditionFiltering()},children:"Save"}),Object(m.jsx)("button",{className:"search-right-bottom searchConditionCancelEditing",id:"searchConditionCancelEditing"+t,onClick:e.cancelEditingCondition,children:"Cancel"})]})]}),Object(m.jsx)("div",{className:"searchConditionRightColumn "+v.searchConditionRightColumn})]},"searchConditionComponent"+t);n.push(l)}},x=0;x<this.state.searchConditions.length;x+=1)f(x);return Object(m.jsxs)("div",{className:"all",children:[Object(m.jsxs)("header",{children:[Object(m.jsx)("a",{href:d,children:Object(m.jsx)("img",{src:O.default,alt:"",className:"logoImg"})}),Object(m.jsxs)("div",{className:"headerLinkGroup",children:[Object(m.jsx)("a",{href:d,children:Object(m.jsx)("div",{className:"headerLink",children:" Home"})}),Object(m.jsxs)("div",{className:"headerLink",children:["Data",Object(m.jsx)("br",{}),"Visualization"]}),Object(m.jsx)("div",{className:"headerLink",children:"Membership"}),Object(m.jsx)("div",{className:"headerLink",children:"Contact Us"})]})]}),Object(m.jsx)(g.a,{onDragEnd:function(t){var i=t.source,a=t.destination;t.draggableId;if(a&&(a.droppableId!==i.droppableId||a.index!==i.index)){var s=Array.from(e.state.searchConditions),n=s.splice(i.index,1),c=Object(r.a)(n,1)[0];s.splice(a.index,0,c),e.setState({searchConditions:s}),e.checkConditionFiltering()}},children:Object(m.jsxs)("main",{children:[Object(m.jsxs)("div",{className:"searchAll "+v.searchAll,children:[Object(m.jsx)(g.c,{droppableId:"droppableId",children:function(e){return Object(m.jsxs)("div",Object(o.a)(Object(o.a)({className:"searchAllTop",ref:e.innerRef},e.droppableProps),{},{children:[Object(m.jsx)("div",{className:"setGroup",children:t}),Object(m.jsx)("div",{className:"searchConditionGroup",children:n}),e.placeholder]}))}}),Object(m.jsxs)("div",{className:"searchGroup",children:[Object(m.jsxs)("div",{className:"searchGroupFirstLine",children:[Object(m.jsx)("input",{className:"searchInput",onChange:this.inputSearchKeyword,placeholder:this.state.newSearchPlaceHolder,value:this.state.newSearchValue}),Object(m.jsxs)("select",{className:"searchSelect",onChange:this.changeSearchOption,children:[Object(m.jsx)("option",{children:"Headline"}),Object(m.jsx)("option",{children:"Subheadline"}),Object(m.jsx)("option",{children:"Author"}),Object(m.jsx)("option",{children:"Context"}),Object(m.jsx)("option",{children:"Start Date"}),Object(m.jsx)("option",{children:"End Date"})]})]}),Object(m.jsxs)("div",{className:"searchGroupSecondLine",children:[Object(m.jsx)("button",{className:"addNewSearchButton",onClick:function(){e.clickAddNewSearchButton(),e.checkConditionFiltering()},children:"Add New Search Condition"}),Object(m.jsx)("button",{className:"searchSubmitButton",onClick:this.clickSearchSubmitButton,children:"Search Submit"})]}),Object(m.jsx)("div",{className:"searchGroupThirdLine",children:a})]})]}),Object(m.jsx)("div",{className:"searchResultGroup",children:s})]})}),Object(m.jsx)("footer",{children:Object(m.jsx)("div",{className:"footerText",children:"\xa9 2020. All rights reserved."})})]})}}]),a}(s.a.Component);window.addEventListener("load",(function(){c.a.render(Object(m.jsx)(S,{}),document.getElementById("root"))}))}},[[46,1,2]]]);
//# sourceMappingURL=main.eaea8c9a.chunk.js.map