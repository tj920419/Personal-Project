(this["webpackJsonppersonal-project"]=this["webpackJsonppersonal-project"]||[]).push([[0],{12:function(e,t,i){"use strict";i.r(t),t.default=i.p+"static/media/Logo.384869ab.png"},22:function(e,t,i){},24:function(e,t,i){},30:function(e,t,i){var s={"./Logo.png":12,"./The Economist.png":31,"./The Economist_original.png":32,"./The New York Times.png":33};function a(e){var t=n(e);return i(t)}function n(e){if(!i.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}a.keys=function(){return Object.keys(s)},a.resolve=n,e.exports=a,a.id=30},31:function(e,t,i){"use strict";i.r(t),t.default=i.p+"static/media/The Economist.330163aa.png"},32:function(e,t,i){"use strict";i.r(t),t.default=i.p+"static/media/The Economist_original.ab6ecc51.png"},33:function(e,t,i){"use strict";i.r(t),t.default=i.p+"static/media/The New York Times.afb191f3.png"},34:function(e,t,i){"use strict";i.r(t);var s=i(8),a=i.n(s),n=i(11),c=i.n(n),r=(i(22),i(14)),o=i(15),h=i(4),d=i(17),l=i(16),u=i(1),j=(i(24),i(13)),m=(i(25),i(27),j.a.initializeApp({apiKey:"AIzaSyBwWOLt0ioY91SqVnr1mPh1meUBBanjIYk",authDomain:"newsplatform-9a5f4.firebaseapp.com",databaseURL:"https://newsplatform-9a5f4.firebaseio.com",projectId:"newsplatform-9a5f4",storageBucket:"newsplatform-9a5f4.appspot.com",messagingSenderId:"895486789179",appId:"1:895486789179:web:40d7c5d3cbc840848c7e1e",measurementId:"G-MB158LDM29"})),p=(m.auth(),m.firestore()),C=(j.a.firestore.FieldValue.serverTimestamp(),i(12)),b=i.p+"static/media/Background_Earth.159c0fcb.jpg",g={},O=function(e){Object(d.a)(s,e);var t=Object(l.a)(s);function s(e){var i;return Object(r.a)(this,s),(i=t.call(this,e)).changeSet=i.changeSet.bind(Object(h.a)(i)),i.inputSearchKeyword=i.inputSearchKeyword.bind(Object(h.a)(i)),i.changeSearchOption=i.changeSearchOption.bind(Object(h.a)(i)),i.clickAddNewSearchButton=i.clickAddNewSearchButton.bind(Object(h.a)(i)),i.clickSearchSubmitButton=i.clickSearchSubmitButton.bind(Object(h.a)(i)),i.runConditionFiltering=i.runConditionFiltering.bind(Object(h.a)(i)),i.checkConditionFiltering=i.checkConditionFiltering.bind(Object(h.a)(i)),i.withOrWithoutYou=i.withOrWithoutYou.bind(Object(h.a)(i)),i.editSearchCondition=i.editSearchCondition.bind(Object(h.a)(i)),i.deleteSearchCondition=i.deleteSearchCondition.bind(Object(h.a)(i)),i.inputNewSearchKeyword=i.inputNewSearchKeyword.bind(Object(h.a)(i)),i.changeNewSearchOption=i.changeNewSearchOption.bind(Object(h.a)(i)),i.editSearchCondition=i.editSearchCondition.bind(Object(h.a)(i)),i.deleteSearchCondition=i.deleteSearchCondition.bind(Object(h.a)(i)),i.saveSearchCondition=i.saveSearchCondition.bind(Object(h.a)(i)),i.cancelEditingCondition=i.cancelEditingCondition.bind(Object(h.a)(i)),i.checkMediaBrand=i.checkMediaBrand.bind(Object(h.a)(i)),i.state={setStatus:!0,mediaBrand:[{brandName:"The New York Times",checked:!0},{brandName:"The Economist",checked:!0},{brandName:"Financial Times",checked:!1}],searchConditions:[{withOrWithout:!0,searchValue:"Trump",searchType:"Headline",editing:!1,searchValueEditing:"Trump",searchTypeEditing:"Headline",resultAmount:0}],newSearchType:"Headline",newSearchValue:"",newSearchPlaceHolder:"Please Input Your Keyword!",searchResults:[]},i}return Object(o.a)(s,[{key:"changeSet",value:function(){var e=!this.state.setStatus;this.setState({setStatus:e})}},{key:"inputSearchKeyword",value:function(e){this.setState({newSearchValue:e.target.value})}},{key:"changeSearchOption",value:function(e){"Start Date"===e.target.value||"End Date"===e.target.value?this.setState({newSearchType:e.target.value,newSearchPlaceHolder:"Please enter eg:20201231"}):this.setState({newSearchType:e.target.value})}},{key:"clickAddNewSearchButton",value:function(){if(""===this.state.newSearchValue)alert("Not yet input anything!");else{var e={withOrWithout:!0,searchValue:this.state.newSearchValue,searchType:this.state.newSearchType,editing:!1,searchValueEditing:this.state.newSearchValue,searchTypeEditing:this.state.newSearchType,resultAmount:0};this.state.searchConditions.push(e),this.setState({searchConditions:this.state.searchConditions,newSearchValue:""})}}},{key:"clickSearchSubmitButton",value:function(){var e,t=this;if(0===this.state.searchConditions.length)alert("Please input at least one search condition!");else{for(var i=[],s=[],a=0;a<this.state.mediaBrand.length;a+=1)!0===this.state.mediaBrand[a].checked&&i.push((e=this.state.mediaBrand[a].brandName,p.collection(e).get()));Promise.all(i).then((function(e){e.forEach((function(e){e.forEach((function(e){s.push(e.data())}))})),t.runConditionFiltering(s)}))}}},{key:"runConditionFiltering",value:function(e){var t=[];if(!0===this.state.setStatus)for(var i=0;i<this.state.searchConditions.length;i+=1){var s=this.state.searchConditions[i].searchType;if("Start Date"!==s&&"End Date"!==s){if(!0===this.state.searchConditions[i].withOrWithout)for(var a=0;a<e.length;a+=1)e[a][s]&&!1!==e[a][s].includes(this.state.searchConditions[i].searchValue)||(e.splice(a,1),a-=1);else if(!1===this.state.searchConditions[i].withOrWithout)for(var n=0;n<e.length;n+=1)e[n][s]&&!0===e[n][s].includes(this.state.searchConditions[i].searchValue)&&(e.splice(n,1),n-=1)}else for(var c=0;c<e.length;c+=1){var r=parseInt(e[c][s]),o=parseInt(this.state.searchConditions[i].searchValue);"Start Date"===s?(!e[c]["Start Date"]||r<o)&&(e.splice(c,1),c-=1):"End Date"===s&&(!e[c]["End Date"]||r>o)&&(e.splice(c,1),c-=1)}t=e;var h=this.state.searchConditions;h[i].resultAmount=e.length,this.setState({searchConditions:h})}else if(!1===this.state.setStatus)for(var d=0;d<this.state.searchConditions.length;d+=1){var l=this.state.searchConditions[d].searchType;if("Start Date"!==l&&"End Date"!==l){if(!0===this.state.searchConditions[d].withOrWithout)for(var u=0;u<e.length;u+=1)e[u][l]&&!0===e[u][l].includes(this.state.searchConditions[d].searchValue)&&(t.push(e[u]),e.splice(u,1),u-=1);else if(!1===this.state.searchConditions[d].withOrWithout)for(var j=0;j<e.length;j+=1)e[j][l]&&!1!==e[j][l].includes(this.state.searchConditions[d].searchValue)||(t.push(e[j]),e.splice(j,1),j-=1)}else for(var m=0;m<e.length;m+=1){var p=parseInt(e[m][l]),C=parseInt(this.state.searchConditions[d].searchValue);"Start Date"===l?e[m]["Start Date"]&&p>=C&&(t.push(e[m]),e.splice(m,1),m-=1):"End Date"===l&&e[m]["End Date"]&&p<=C&&(t.push(e[m]),e.splice(m,1),m-=1)}var b=this.state.searchConditions;b[d].resultAmount=t.length,this.setState({searchConditions:b})}this.setState({searchResults:t})}},{key:"checkConditionFiltering",value:function(){console.log("checkConditionFiltering"),console.log(this.state.searchResults),this.runConditionFiltering(this.state.searchResults)}},{key:"withOrWithoutYou",value:function(e){var t=parseInt(e.currentTarget.id.slice(22)),i=this.state.searchConditions;i[t].withOrWithout=!i[t].withOrWithout,this.setState({searchConditions:i})}},{key:"editSearchCondition",value:function(e){var t=parseInt(e.target.id.slice(19)),i=this.state.searchConditions;i[t].editing=!0,this.setState({searchConditions:i})}},{key:"deleteSearchCondition",value:function(e){var t=parseInt(e.target.id.slice(21));this.state.searchConditions.splice(t,1),this.setState({searchConditions:this.state.searchConditions})}},{key:"inputNewSearchKeyword",value:function(e){var t=parseInt(e.target.id.slice(21)),i=this.state.searchConditions;i[t].searchValueEditing=e.target.value,this.setState({searchConditions:i})}},{key:"changeNewSearchOption",value:function(e){var t=parseInt(e.target.id.slice(21)),i=this.state.searchConditions;i[t].searchTypeEditing=e.target.value,this.setState({searchConditions:i})}},{key:"saveSearchCondition",value:function(e){var t=parseInt(e.target.id.slice(19)),i=this.state.searchConditions;i[t].searchValue=this.state.searchConditions[t].searchValueEditing,i[t].searchType=this.state.searchConditions[t].searchTypeEditing,i[t].editing=!1,this.setState({searchConditions:i})}},{key:"cancelEditingCondition",value:function(e){var t=parseInt(e.target.id.slice(28)),i=this.state.searchConditions;i[t].editing=!1,this.setState({searchConditions:i})}},{key:"checkMediaBrand",value:function(e){console.log(e.target.id);for(var t=this.state.mediaBrand,i=0;i<t.length;i+=1)t[i].brandName===e.target.id&&(!0===t[i].checked?t[i].checked=!1:!1===t[i].checked&&(t[i].checked=!0));this.setState({mediaBrand:t}),console.log(t)}},{key:"render",value:function(){var e=this;console.log(this.state);var t=[],s=[],a=[],n=[],c=[],r=[],o="http://localhost:3000/Personal-Project";if(this.state.searchResults.length>0&&(console.log("Search Activated!"),g={searchAll:"searchAllAfter",matchTitle:"matchTitleAfter",searchConditionLeftColumn:"searchConditionLeftColumnAfter",searchConditionRightColumn:"searchConditionRightColumnAfter",mediaBrandComponentClass:"mediaBrandComponentAfter"}),this.state.searchConditions.length>0){var h="",d="";!0===this.state.setStatus?(h="andElement",d=""):!1===this.state.setStatus&&(h="",d="orElement");var l=Object(u.jsxs)("div",{className:"setComponent",style:{display:"flex"},children:[Object(u.jsx)("div",{style:{flex:4.9}}),Object(u.jsx)("div",{className:"setElement "+h,onClick:this.changeSet,style:{flex:1},children:"And"}),Object(u.jsx)("div",{className:"setElement "+d,onClick:this.changeSet,style:{flex:1},children:"Or"}),Object(u.jsx)("div",{style:{flex:3.1}}),Object(u.jsxs)("div",{className:"matchTitle "+g.matchTitle,style:{flex:3},children:["Amount of Matches ",Object(u.jsx)("br",{}),"(accumulative)"]})]},"setComponent0");t.push(l)}for(var j=0;j<this.state.mediaBrand.length;j+=1){var m=Object(u.jsxs)("div",{className:"mediaBrandComponent "+g.mediaBrandComponentClass,children:[Object(u.jsx)("input",{className:"mediaBrandCheckBox",id:this.state.mediaBrand[j].brandName,type:"checkbox",onChange:this.checkMediaBrand,checked:this.state.mediaBrand[j].checked}),Object(u.jsx)("label",{htmlFor:this.state.mediaBrand[j].brandName,children:this.state.mediaBrand[j].brandName})]},"mediaBrandComponent"+j);s.push(m)}for(var p=0;p<this.state.searchResults.length;p+=1){console.log(this.state.searchResults[p].Source),console.log("./img/"+this.state.searchResults[p].Source+".png");var O=Object(u.jsx)("div",{className:"searchResultComponent",id:"searchResultComponent"+p,children:Object(u.jsxs)("a",{href:this.state.searchResults[p].URL,target:"_blank",rel:"noreferrer",children:[Object(u.jsx)("img",{className:"searchResultImg",src:i(30)("./"+this.state.searchResults[p].Source+".png").default,alt:""}),Object(u.jsxs)("div",{className:"searchResultFirstLine",children:[Object(u.jsx)("div",{className:"searchResultSubheadline",children:this.state.searchResults[p].Subheadline}),Object(u.jsxs)("div",{className:"searchResultDate",children:["Date: ",this.state.searchResults[p]["Start Date"]]})]}),Object(u.jsxs)("div",{className:"searchResultSecondLine",children:[Object(u.jsx)("div",{className:"searchResultHeadline",children:this.state.searchResults[p].Headline}),Object(u.jsxs)("div",{className:"searchResultAuthor",children:["Author: ",this.state.searchResults[p].Author]})]}),Object(u.jsx)("div",{className:"searchResultThirdLine",children:Object(u.jsx)("div",{className:"searchResultParagraph",children:this.state.searchResults[p]["Lead Paragraph"]})})]})},"searchResultComponent"+p);a.push(O)}for(var v=0;v<this.state.searchConditions.length;v+=1){if(c=[],r=[],"Start Date"!==this.state.searchConditions[v].searchType&&"End Date"!==this.state.searchConditions[v].searchType){var S="",f="";!0===this.state.searchConditions[v].withOrWithout?(S="withElement",f=""):!1===this.state.searchConditions[v].withOrWithout&&(S="",f="withoutElement");var x=Object(u.jsxs)("div",{className:"withOrWithoutComponent",id:"withOrWithoutComponent"+v,onClick:this.withOrWithoutYou,children:[Object(u.jsx)("div",{className:"withOrWithoutElement "+S,children:"With"}),Object(u.jsx)("div",{className:"withOrWithoutElement "+f,children:"Without"})]},"withOrWithoutComponent"+v);c.push(x)}var N=Object(u.jsx)("div",{className:"searchResultAmountComponent",id:"searchResultAmountComponent"+v,children:this.state.searchConditions[v].resultAmount},"searchResultAmountComponent"+v);if(r.push(N),!1===this.state.searchConditions[v].editing){var w=Object(u.jsxs)("div",{className:"searchConditionComponent",children:[Object(u.jsx)("div",{className:"searchConditionLeftColumn "+g.searchConditionLeftColumn,children:c}),Object(u.jsxs)("div",{className:"searchConditionMidColumn",children:[Object(u.jsxs)("div",{className:"searchConditionGroupFirstLine",children:[Object(u.jsx)("div",{className:"search-left-top searchConditionValue",children:this.state.searchConditions[v].searchValue}),Object(u.jsx)("div",{className:"search-right-top searchConditionType",children:this.state.searchConditions[v].searchType})]}),Object(u.jsxs)("div",{className:"searchConditionGroupSecondLine",children:[Object(u.jsx)("button",{className:"search-left-bottom searchConditionEdit",id:"searchConditionEdit"+v,onClick:this.editSearchCondition,children:"Edit"}),Object(u.jsx)("button",{className:"search-right-bottom searchConditionDelete",id:"searchConditionDelete"+v,onClick:this.deleteSearchCondition,children:"Delete"})]})]}),Object(u.jsx)("div",{className:"searchConditionRightColumn "+g.searchConditionRightColumn,children:r})]},"searchConditionComponent"+v);n.push(w)}else if(!0===this.state.searchConditions[v].editing){console.log(this.state.searchConditions[v]);var k=Object(u.jsxs)("div",{className:"searchConditionComponent",children:[Object(u.jsx)("div",{className:"searchConditionLeftColumn "+g.searchConditionLeftColumn,children:c}),Object(u.jsxs)("div",{className:"searchConditionMidColumn",children:[Object(u.jsxs)("div",{className:"searchConditionGroupFirstLine",children:[Object(u.jsx)("input",{className:"search-left-top searchInput",id:"inputNewSearchKeyword"+v,onChange:this.inputNewSearchKeyword,value:this.state.searchConditions[v].searchValueEditing}),Object(u.jsxs)("select",{className:"search-right-top searchSelect",id:"changeNewSearchOption"+v,onChange:this.changeNewSearchOption,value:this.state.searchConditions[v].searchTypeEditing,children:[Object(u.jsx)("option",{children:"Headline"}),Object(u.jsx)("option",{children:"Subheadline"}),Object(u.jsx)("option",{children:"Author"}),Object(u.jsx)("option",{children:"Context"}),Object(u.jsx)("option",{children:"Start Date"}),Object(u.jsx)("option",{children:"End Date"})]})]}),Object(u.jsxs)("div",{className:"searchConditionGroupSecondLine",children:[Object(u.jsx)("button",{className:"search-left-bottom searchConditionSave",id:"searchConditionSave"+v,onClick:this.saveSearchCondition,children:"Save"}),Object(u.jsx)("button",{className:"search-right-bottom searchConditionCancelEditing",id:"searchConditionCancelEditing"+v,onClick:this.cancelEditingCondition,children:"Cancel"})]})]}),Object(u.jsx)("div",{className:"searchConditionRightColumn "+g.searchConditionRightColumn})]},"searchConditionComponent"+v);n.push(k)}}return Object(u.jsxs)("div",{className:"all",children:[Object(u.jsxs)("header",{children:[Object(u.jsx)("a",{href:o,children:Object(u.jsx)("img",{src:C.default,alt:"",className:"logoImg"})}),Object(u.jsxs)("div",{className:"headerLinkGroup",children:[Object(u.jsx)("a",{href:o,children:Object(u.jsx)("div",{className:"headerLink",children:" Home"})}),Object(u.jsxs)("div",{className:"headerLink",children:["Data",Object(u.jsx)("br",{}),"Visualization"]}),Object(u.jsx)("div",{className:"headerLink",children:"Membership"}),Object(u.jsx)("div",{className:"headerLink",children:"Contact Us"})]})]}),Object(u.jsxs)("main",{style:{backgroundImage:"url(".concat(b,")")},children:[Object(u.jsxs)("div",{className:"searchAll "+g.searchAll,children:[Object(u.jsxs)("div",{className:"searchAllTop",children:[Object(u.jsx)("div",{className:"setGroup",children:t}),Object(u.jsx)("div",{className:"searchConditionGroup",children:n})]}),Object(u.jsxs)("div",{className:"searchGroup",children:[Object(u.jsxs)("div",{className:"searchGroupFirstLine",children:[Object(u.jsx)("input",{className:"searchInput",onChange:this.inputSearchKeyword,placeholder:this.state.newSearchPlaceHolder,value:this.state.newSearchValue}),Object(u.jsxs)("select",{className:"searchSelect",onChange:this.changeSearchOption,children:[Object(u.jsx)("option",{children:"Headline"}),Object(u.jsx)("option",{children:"Subheadline"}),Object(u.jsx)("option",{children:"Author"}),Object(u.jsx)("option",{children:"Context"}),Object(u.jsx)("option",{children:"Start Date"}),Object(u.jsx)("option",{children:"End Date"})]})]}),Object(u.jsxs)("div",{className:"searchGroupSecondLine",children:[Object(u.jsx)("button",{className:"addNewSearchButton",onClick:function(){e.clickAddNewSearchButton(),e.checkConditionFiltering()},children:"Add New Search Condition"}),Object(u.jsx)("button",{className:"searchSubmitButton",onClick:this.clickSearchSubmitButton,children:"Search Submit"})]}),Object(u.jsx)("div",{className:"searchGroupThirdLine",children:s})]})]}),Object(u.jsx)("div",{className:"searchResultGroup",children:a})]}),Object(u.jsx)("footer",{children:Object(u.jsx)("div",{className:"footerText",children:"\xa9 2020. All rights reserved."})})]})}}]),s}(a.a.Component);window.addEventListener("load",(function(){c.a.render(Object(u.jsx)(O,{}),document.getElementById("root"))}))}},[[34,1,2]]]);
//# sourceMappingURL=main.3a0b1270.chunk.js.map